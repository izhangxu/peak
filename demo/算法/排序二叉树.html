<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>排序二叉树</title>
	<script type="text/javascript">
		var BinaryTree = function(){
			var Node = function(key){
				this.key = key;
				this.left = null;
				this.right = null;
			};

			this.root = null;

			var insertNode = function(root, newNode){
				if (root.key > newNode.key) {
					if(!root.left) {
						root.left = newNode;
					} else{
						insertNode(root.left, newNode);
					}
				} else {
					if (!root.right) {
						root.right = newNode;
					} else {
						insertNode(root.right, newNode);
					}
				}
			};

			this.insert = function(key){
				var node = new Node(key);
				if (!this.root) {
					this.root = node;
				} else {
					insertNode(this.root, node);
				}
			};

			var inOrderTraverseNode = function(node, callback) {
				if (node) {
					inOrderTraverseNode(node.left, callback);
					callback(node.key);
					inOrderTraverseNode(node.right, callback);
				}
			};
			// 中序遍历-所有节点升序排序输出-先访问左子树，再访问当前结点，再访问右子树
			this.inOrderTraverse = function(callback){
				inOrderTraverseNode(this.root, callback);
			};

			var preOrderTraverseNode = function(node, callback){
				if (node) {
					callback(node.key);
					preOrderTraverseNode(node.left, callback);
					preOrderTraverseNode(node.right, callback);
				}
			};
			// 前序遍历-先输出节点，再输出左节点，再输出有节点
			this.preOrderTraverse = function(callback) {
				preOrderTraverseNode(this.root, callback);
			};

			var postOrderTraverseNode = function(node, callback) {
				if(node) {
					postOrderTraverseNode(node.left, callback);
					postOrderTraverseNode(node.right, callback);
					callback(node.key);
				}
			};
			// 后序遍历 - 先输出左子树，再输出右子树，再输出节点
			this.postOrderTraverse = function(callback) {
				postOrderTraverseNode(this.root, callback);
			};
		};

		var nodes = [8, 3, 10, 1, 6, 14, 4, 7, 13];
		var binaryTree = new BinaryTree();
		nodes.forEach(function(key) {
			binaryTree.insert(key);
		});
		console.log(binaryTree.root);

		// binaryTree.inOrderTraverse(function(key) {
		// 	console.log(key);
		// });

		// binaryTree.preOrderTraverse(function(key) {
		// 	console.log(key);
		// });

		binaryTree.postOrderTraverse(function(key) {
			console.log(key);
		});
	</script>
</head>
<body>
	
</body>
</html>